<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,300italic,600">
    <link rel="stylesheet" type="text/css" href="../../../dist/brick.css"/>
    <link rel="stylesheet" type="text/css" href="../../../site/css/main.css"/>

    <style>
        body, html{
            display: block;
            min-width: 100%;
            min-height: 100%;
            margin: 0;
            padding: 0;
        }

        article{
            overflow: visible;
        }
        
        figure{
            position: relative;
            display: inline-block;
            margin: 0;
            width: 320px;
        }

        .component-demo{
            position: relative;
            width: 100%;
            height: 85%;
            margin: 0;
            padding: 0;
        }

        .component-demo img{
            width: 100%;
            height: 100%;
            background-color: #eee;
        }

        .component-demo span{
            position: absolute;
            color: white;
            text-shadow: 1px 1px 10px black;
            left: 50%;
            top: 50%;
            text-align: center;
            line-height: 1.2em;

            font-size: 3em;

            -webkit-transform: translate(-50%, -50%);
            -moz-transform: translate(-50%, -50%);
            -o-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
        }

        x-tabbar{
            height: 15%;
        }

        x-tabbar-tab{
            height: 100%;
        }

        x-tabbar x-iconbutton .x-iconbutton-icon{
            max-width: 30px;
            max-height: 1.5em;
        }

        pre{
            font-size: .9em;
            overflow: auto;
            max-height: 25em;
            background-color: white;
        }

        .toggle-source-button{
            margin: 0 auto;
            width: 50%;
            display: block;
        }
    </style>
</head>
<body>
    <article>
        <header><h1>X-Tabbar demos</h1></header>
        <figure class="two-up">
            <h2>With deck</h2>
            <div class="demo">
                <x-deck class="component-demo" transition-type="coverDown">
                    <x-card><img src="dog1.png"/><span>One</span></x-card>
                    <x-card><img src="dog2.png"/><span>Two</span></x-card>
                    <x-card><img src="dog3.png"/><span>Three</span></x-card>
                    <x-card><img src="dog4.png"/><span>Four</span></x-card>
                    <x-card><img src="dog5.png"/><span>Five</span></x-card>
                </x-deck>

                <x-tabbar>
                    <x-tabbar-tab target-selector="x-deck x-card:first-child">
                        <x-iconbutton src="dog1.png" icon-anchor="top">One</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab target-selector="x-deck x-card:nth-child(2)">
                        <x-iconbutton src="dog2.png" icon-anchor="top">Two</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab target-selector="x-deck x-card:nth-child(3)">
                        <x-iconbutton src="dog3.png" icon-anchor="top">Three</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab target-selector="x-deck x-card:nth-child(4)">
                        <x-iconbutton src="dog4.png" icon-anchor="top">Four</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab target-selector="x-deck x-card:nth-child(5)">
                        <x-iconbutton src="dog5.png" icon-anchor="top">Five</x-iconbutton>
                    </x-tabbar-tab>
                </x-tabbar>
            </div>
            <x-iconbutton class="toggle-source-button" src="eye.png">Show source</x-iconbutton>
            <x-tooltip target-selector="_previousSibling" orientation="bottom" trigger-style="click">
                <h4>HTML markup:</h4>
                <pre class="prettyprint">&lt;!-- the target element; the actual structure is unimportant and is <br/>     only provided to demo what the tabbar's tabs are targeting --&gt;<br/>&lt;x-deck class=&quot;component-demo&quot; transition-type=&quot;coverDown&quot;&gt;<br/>    &lt;x-card&gt;&lt;img src=&quot;dog1.png&quot;/&gt;&lt;span&gt;One&lt;/span&gt;&lt;/x-card&gt;<br/>    &lt;x-card&gt;&lt;img src=&quot;dog2.png&quot;/&gt;&lt;span&gt;Two&lt;/span&gt;&lt;/x-card&gt;<br/>    &lt;x-card&gt;&lt;img src=&quot;dog3.png&quot;/&gt;&lt;span&gt;Three&lt;/span&gt;&lt;/x-card&gt;<br/>    &lt;x-card&gt;&lt;img src=&quot;dog4.png&quot;/&gt;&lt;span&gt;Four&lt;/span&gt;&lt;/x-card&gt;<br/>    &lt;x-card&gt;&lt;img src=&quot;dog5.png&quot;/&gt;&lt;span&gt;Five&lt;/span&gt;&lt;/x-card&gt;<br/>&lt;/x-deck&gt;<br/><br/>&lt;!-- the tabbar itself --&gt;<br/>&lt;x-tabbar&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;x-deck x-card:first-child&quot;&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;x-deck x-card:nth-child(2)&quot;&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;x-deck x-card:nth-child(3)&quot;&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;x-deck x-card:nth-child(4)&quot;&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;x-deck x-card:nth-child(5)&quot;&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>&lt;/x-tabbar&gt;</pre>
            </x-tooltip>
        </figure>

        <figure class="two-up">
            <h2>With slidebox <br/>(also dynamically assigned tab targets)</h2>
            <div class="demo">
                <x-slidebox class="component-demo" orientation="x">
                    <x-slides>
                      <x-slide><img src="birnimal-calendar.png" /></x-slide>
                      <x-slide><img src="birnimal-graph.png" /></x-slide>
                      <x-slide><img src="birnimal-detail.png" /></x-slide>
                      <x-slide><img src="birnimal-settings.png" /></x-slide>
                    </x-slides>
                </x-slidebox>

                <!-- see javascript to see demo of dynamically assigning targets -->
                <x-tabbar id="slide-box-tabbar">
                    <x-tabbar-tab>
                        <x-iconbutton src="birnimal-calendar.png">Calendar</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab>
                        <x-iconbutton src="birnimal-graph.png">Graph</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab>
                        <x-iconbutton src="birnimal-detail.png">Detail</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab>
                        <x-iconbutton src="birnimal-settings.png">Settings</x-iconbutton>
                    </x-tabbar-tab>
                </x-tabbar>
            </div>
            <x-iconbutton class="toggle-source-button" src="eye.png">Show source</x-iconbutton>
            <x-tooltip target-selector="_previousSibling" orientation="bottom" trigger-style="click">
                <h4>HTML markup:</h4>
                <pre class="prettyprint">&lt;!-- the target element; the actual structure is unimportant and is <br/>     only provided to demo what the tabbar's tabs are targeting --&gt;<br/>&lt;x-slidebox class=&quot;component-demo&quot; orientation=&quot;x&quot;&gt;<br/>    &lt;x-slides&gt;<br/>      &lt;x-slide&gt;&lt;img src=&quot;birnimal-calendar.png&quot; /&gt;&lt;/x-slide&gt;<br/>      &lt;x-slide&gt;&lt;img src=&quot;birnimal-graph.png&quot; /&gt;&lt;/x-slide&gt;<br/>      &lt;x-slide&gt;&lt;img src=&quot;birnimal-detail.png&quot; /&gt;&lt;/x-slide&gt;<br/>      &lt;x-slide&gt;&lt;img src=&quot;birnimal-settings.png&quot; /&gt;&lt;/x-slide&gt;<br/>    &lt;/x-slides&gt;<br/>&lt;/x-slidebox&gt;<br/><br/>&lt;!-- the tabbar itself --&gt;<br/>&lt;x-tabbar id=&quot;slide-box-tabbar&quot;&gt;<br/>    &lt;x-tabbar-tab&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>&lt;/x-tabbar&gt;</pre>
                <h4>JavaScript</h4>
                <pre class="prettyprint">document.addEventListener('DOMComponentsLoaded', function(){<br/>    // demonstrate dynamic tab-target handling in slidebox demo<br/>    var slideBox = document.querySelector('x-slidebox');<br/>    var slideBoxTabbar = document.getElementById(&quot;slide-box-tabbar&quot;);<br/><br/>    // assign each tab to its respective slide in the slidebox<br/>    var tabs = slideBoxTabbar.tabs;<br/>    var slides = xtag.query(slideBox, 'x-slide');<br/>    for(var i=0; i &lt; slides.length &amp;&amp; i &lt; tabs.length; i++){<br/>        var tab = tabs[i];<br/>        var slide = slides[i];<br/>        <br/>        // assign each slide to its respective tabbar tab<br/>        tab.targetElems = [slide];<br/>    }<br/>});</pre>
            </x-tooltip>
        </figure>

        <figure class="two-up">
            <h2>With flipbox</h2>
            <div class="demo">
                <x-flipbox class="component-demo">
                  <div>
                    <img src="Card_front.svg"/>
                  </div>
                  <div>
                    <img src="Card_back.svg"/>
                  </div>
                </x-flipbox>
                <x-tabbar>
                    <x-tabbar-tab target-selector="x-flipbox > *:first-child">
                        <x-iconbutton src="Card_front.svg">Front</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab target-selector="x-flipbox > *:last-child">
                        <x-iconbutton src="Card_back.svg">Back</x-iconbutton>
                    </x-tabbar-tab>
                </x-tabbar>
            </div>
            <x-iconbutton class="toggle-source-button" src="eye.png">Show source</x-iconbutton>
            <x-tooltip target-selector="_previousSibling" orientation="bottom" trigger-style="click">
                <h4>HTML markup:</h4>
                <pre class="prettyprint">&lt;!-- the target element; the actual structure is unimportant and is <br/>     only provided to demo what the tabbar's tabs are targeting --&gt;<br/>&lt;x-flipbox class=&quot;component-demo&quot;&gt;<br/>  &lt;div&gt;<br/>    &lt;img src=&quot;Card_front.svg&quot;/&gt;<br/>  &lt;/div&gt;<br/>  &lt;div&gt;<br/>    &lt;img src=&quot;Card_back.svg&quot;/&gt;<br/>  &lt;/div&gt;<br/>&lt;/x-flipbox&gt;<br/><br/>&lt;!-- the tabbar itself --&gt;<br/>&lt;x-tabbar&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;x-flipbox &gt; *:first-child&quot;&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;x-flipbox &gt; *:last-child&quot;&gt;<br/>        &lt;!-- tab content is unimportant --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>&lt;/x-tabbar&gt;</pre>
            </x-tooltip>
        </figure>

        <figure class="two-up">
            <h2>Fire custom event types (using <code>target-event</code> attributes)</h2>
            <div class="demo">
                <div id="color-box" class="component-demo">
                    <span>NIC CAGE</span>
                    <img src="http://placecage.com/c/300/325"/>
                </div>
                <x-tabbar target-event="danceparty">
                    <x-tabbar-tab target-selector="#color-box > span">
                        <x-iconbutton src="http://placecage.com/100/100">danceparty</x-iconbutton>
                    </x-tabbar-tab>
                    <x-tabbar-tab target-selector="#color-box > img" target-event="override">
                        <x-iconbutton src="http://placecage.com/c/100/100">override</x-iconbutton>
                    </x-tabbar-tab>
                </x-tabbar>
            </div>
            <x-iconbutton class="toggle-source-button" src="eye.png">Show source</x-iconbutton>
            <x-tooltip target-selector="_previousSibling" orientation="bottom" trigger-style="click">
                <h4>HTML markup</h4>
                <pre class="prettyprint">&lt;!-- the element we want to target --&gt;<br/>&lt;div id=&quot;color-box&quot; class=&quot;component-demo&quot;&gt;<br/>    &lt;span&gt;NIC CAGE&lt;/span&gt;<br/>    &lt;img src=&quot;http://placecage.com/c/300/325&quot;/&gt;<br/>&lt;/div&gt;<br/><br/>&lt;!-- The tabbar itself --&gt;<br/>&lt;x-tabbar target-event=&quot;danceparty&quot;&gt;<br/>    &lt;!-- this tab will fire a 'danceparty' event on the <br/>         selected element, due to inheriting it from the tabbar --&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;#color-box &gt; span&quot;&gt;<br/>        &lt;!-- tab 1 content --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>    &lt;!-- this tab will fire a 'override' event on the <br/>         selected element, due to having an override specified on the tab --&gt;<br/>    &lt;x-tabbar-tab target-selector=&quot;#color-box &gt; img&quot; target-event=&quot;override&quot;&gt;<br/>        &lt;!-- tab 2 content --&gt;<br/>    &lt;/x-tabbar-tab&gt;<br/>&lt;/x-tabbar&gt;</pre>
                <h4>JavaScript</h4>
                <pre class="prettyprint">document.addEventListener('DOMComponentsLoaded', function(){<br/>    // demonstrate that events specified by the tabbar are fired<br/>    document.querySelector(&quot;#color-box &gt; span&quot;).addEventListener(&quot;danceparty&quot;, function(e){<br/>        alert(&quot;The text received danceparty!&quot;);<br/>    });<br/>    <br/>    document.querySelector(&quot;#color-box &gt; img&quot;).addEventListener(&quot;danceparty&quot;, function(e){<br/>        alert(&quot;The image received danceparty!&quot;);<br/>    });<br/>    <br/>    document.querySelector(&quot;#color-box &gt; img&quot;).addEventListener(&quot;override&quot;, function(e){<br/>        alert(&quot;The image received override!&quot;);<br/>    });<br/>});</pre>
            </x-tooltip>
        </figure>
    </article>

    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script type="text/javascript" src="../../../dist/brick.js"></script>
    <script>
    document.addEventListener('DOMComponentsLoaded', function(){
        // demonstrate dynamic tab-target handling in slidebox demo
        var slideBox = document.querySelector('x-slidebox');
        var slideBoxTabbar = document.getElementById("slide-box-tabbar");

        // assign each tab to its respective slide in the slidebox
        var tabs = slideBoxTabbar.tabs;
        var slides = xtag.query(slideBox, 'x-slide');
        for(var i=0; i < slides.length && i < tabs.length; i++){
            var tab = tabs[i];
            var slide = slides[i];

            tab.targetElems = [slide];
        }

        // handle custom events demo
        document.querySelector("#color-box > span").addEventListener("danceparty", function(e){
            alert("The text received danceparty!");
        });

        document.querySelector("#color-box > img").addEventListener("danceparty", function(e){
            alert("The image received danceparty!");
        });

        document.querySelector("#color-box > img").addEventListener("override", function(e){
            alert("The image received override!");
        });
    });
    </script>
</body>
</html>