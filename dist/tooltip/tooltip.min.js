!function(){function t(t){return t in L}function e(){var t=document.documentElement,e={left:t.scrollLeft||document.body.scrollLeft||0,top:t.scrollTop||document.body.scrollTop||0,width:t.clientWidth,height:t.clientHeight};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function n(t){var n=t.getBoundingClientRect(),r=e(),i=r.left,o=r.top;return{left:n.left+i,right:n.right+i,top:n.top+o,bottom:n.bottom+o,width:n.width,height:n.height}}function r(t,e){var e=void 0!==e?e:n(t);return{x:t.offsetWidth?e.width/t.offsetWidth:1,y:t.offsetHeight?e.height/t.offsetHeight:1}}function i(t,e){if(t.right<e.left||e.right<t.left||t.bottom<e.top||e.bottom<t.top)return null;var n={left:Math.max(t.left,e.left),top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:n}function o(t,e,n){this.eventType=e,this.listenerFn=n,this.elem=t,this._attachedFn=null}function a(t){this._cachedListener=null,this._tooltips=[];var e=this,n=function(t){e._tooltips.forEach(function(e){e.xtag._skipOuterClick||!e.hasAttribute("visible")||e.ignoreOuterTrigger||d(t.target,e)||T(e),e.xtag._skipOuterClick=!1})},r=this._cachedListener=new o(document,t,n);r.attachListener()}function s(){this.eventStructDict={}}function u(t,e,n){var r=function(e){n&&d(e.target,t.previousElementSibling)&&n.call(t.previousElementSibling,e)};return new o(document.documentElement,e,r)}function l(t,e,n){var r=e+":delegate(x-tooltip+*)",i=function(e){n&&this===t.nextElementSibling&&n.call(this,e)};return new o(document.documentElement,r,i)}function c(t,e,n,r){if(e===O)return u(t,n,r);if(e===M)return l(t,n,r);var i=n+":delegate("+e+")";return new o(document.documentElement,i,function(e){var n=this;d(n,t)||r.call(n,e)})}function h(t,e,n){var r=[],i=function(){var e=this;t.xtag._skipOuterClick=!0,t.hasAttribute("visible")?e===t.xtag.lastTargetElem?T(t):A(t,e):A(t,e)},o=c(t,e,n,i);return r.push(o),r}function d(t,e){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function f(t){return function(e){var n=this,r=e.relatedTarget||e.toElement;r?d(r,n)||t.call(this,e):t.call(this,e)}}function g(t,e){var n=[];n=e===O?t.previousElementSibling?[t.previousElementSibling]:[]:e===M?t.nextElementSibling?[t.nextElementSibling]:[]:xtag.query(document,e);for(var r=0;r<n.length;){var i=n[r];d(i,t)?n.splice(r,1):r++}return n}function p(t,e){var r=function(t,e,n){return n.left<=t&&t<=n.right&&n.top<=e&&e<=n.bottom},i=n(t),o=n(e),a=function(t,e){return r(t.left,t.top,e)||r(t.right,t.top,e)||r(t.right,t.bottom,e)||r(t.left,t.bottom,e)},s=function(t,e){return t.top<=e.top&&e.bottom<=t.bottom&&e.left<=t.left&&t.right<=e.right};return a(i,o)||a(o,i)||s(i,o)||s(o,i)}function v(t,e,n){var r=n*(Math.PI/180),i=t*Math.sin(r)+e*Math.cos(r),o=t*Math.cos(r)+e*Math.sin(r);return{height:i,width:o}}function m(t,e,n){var r=t;return r=void 0!==e&&null!==e?Math.max(e,r):r,r=void 0!==n&&null!==n?Math.min(n,r):r}function b(t,e){for(var n=t.parentNode,r=n.scrollLeft,i=n.scrollTop,o=n.clientWidth,a=n.clientHeight,s=r,u=i,l=o+s,c=a+u,h=[],d=[],f=0;f<e.length;f++){var g=e[f],p=g.rect;p.left<s||p.top<u||p.right>l||p.bottom>c?d.push(g):h.push(g)}var v=h.length>0?h:d;return v.length>0?v[0].orient:null}function x(t,e,i,o,a){var s,u;if(i===window)s=t,u=e;else{var l=n(i);s=t-l.left,u=e-l.top}var c=n(o);a=a?a:r(o,c);var h=o.clientTop*a.y,f=o.clientLeft*a.x,g=o.scrollTop*a.y,p=o.scrollLeft*a.x,v={left:s-c.left-f,top:u-c.top-h};return!d(document.body,o)&&d(o,document.body)&&(v.top+=g,v.left+=p),v}function y(t){t.setAttribute("_force-display",!0)}function _(t){t.removeAttribute("_force-display")}function E(e,n){e.removeAttribute(I);var r=e.xtag.arrowEl,i=[];for(var o in L){r.setAttribute(D,L[o]);var a=w(e,n,o);a&&(y(e),p(e,n)||i.push({orient:o,rect:a}),_(e))}var s=b(e,i);return e.setAttribute(I,s),r.setAttribute(D,L[s]),t(s)&&s!==o?w(e,n,s):a}function w(o,a,s,u){if(!o.parentNode)return o.left="",o.top="",null;u=void 0===u?0:u;var l=o.xtag.arrowEl;if(!t(s))return E(o,a);var c=o.offsetParent?o.offsetParent:o.parentNode;u||(o.style.top="",o.style.left="",l.style.top="",l.style.left=""),y(o);var h=n(c),d=r(c,h),f=c.clientWidth*d.x,g=c.clientHeight*d.y;c.scrollLeft*d.x,c.scrollTop*d.y;var p=n(a),b=p.width,A=p.height,T=n(o),C=r(o,T),k=T.width,N=T.height,S=T.width,L=T.height,O=(S-k)/2,M=(L-N)/2,D=l.offsetWidth*C.x,I=l.offsetHeight*C.y,R=45,j=v(D,I,R);D=j.width,I=j.height,"top"===s||"bottom"===s?I/=2:D/=2;var F=e(),U=0,H=0,P=F.right,q=F.bottom;if(!o.allowOverflow){var W=i(F,h);W||(W=h),U=Math.max(U,W.left),H=Math.max(H,W.top),P=Math.min(P,W.right),q=Math.min(q,W.bottom)}P-=k,q-=N;var V={left:p.left+(b-k)/2,top:p.top+(A-N)/2},z=V.left,B=V.top;if("top"===s)B=p.top-L-I,q-=I;else if("bottom"===s)B=p.top+A+I,q-=I;else if("left"===s)z=p.left-S-D,P-=D;else{if("right"!==s)throw"invalid orientation "+s;z=p.left+b+D,P-=D}var Y=m(z,U,P),G=m(B,H,q);Y+=O,G+=M;var J=x(Y,G,window,c,d),X=J.left,K=J.top,$=g?K/g:0,Z=f?X/f:0;o.style.top=100*$+"%",o.style.left=100*Z+"%";var Q,te,ee,ne,re;"top"===s||"bottom"===s?(ne=(b-D)/2,re=p.left-Y,Q=k-D,te=k,ee="left"):(ne=(A-I)/2,re=p.top-G,Q=N-I,te=N,ee="top");var ie=m(ne+re,0,Q),oe=te?ie/te:0;l.style[ee]=100*oe+"%";var ae=o.offsetWidth*C.x,se=o.offsetHeight*C.y,ue=c.clientWidth*d.x,le=c.clientHeight*d.y;_(o);var ce=2;return ce>u&&(k!==ae||N!==se||f!==ue||g!==le)?w(o,a,s,u+1):{left:X,top:K,width:ae,height:se,right:X+ae,bottom:K+se}}function A(t,e){e===t&&console.warn("The tooltip's target element is the tooltip itself! Is this intentional?");var n=t.xtag.arrowEl;n.parentNode||console.warn("The inner component DOM of the tooltip appears to be missing. Make sure to edit tooltip contents through the .contentEl property instead ofdirectly on the x-tooltip to avoid clobbering the component's internals.");var r=t.orientation,i=function(){_(t),t.setAttribute("visible",!0),xtag.fireEvent(t,"tooltipshown",{triggerElem:e})};e?(t.xtag.lastTargetElem=e,xtag.skipTransition(t,function(){return w(t,e,r),i})):(t.style.top="",t.style.left="",n.style.top="",n.style.left="",i())}function T(e){t(e.orientation)&&e.removeAttribute(I),e.hasAttribute("visible")&&(y(e),e.xtag._hideTransitionFlag=!0,e.removeAttribute("visible"))}function C(t){var e=t.xtag.cachedListeners;e.forEach(function(t){t.removeListener()}),t.xtag.cachedListeners=[],N.unregisterTooltip(t.triggerStyle,t)}function k(t,e,n){if(t.parentNode){(void 0===e||null===e)&&(e=t.targetSelector),(void 0===n||null===n)&&(n=t.triggerStyle);var r=g(t,e);-1===r.indexOf(t.xtag.lastTargetElem)&&(t.xtag.lastTargetElem=r.length>0?r[0]:null,w(t,t.xtag.lastTargetElem,t.orientation)),C(t);var i;if(n in S){var o=S[n];i=o(t,e)}else i=h(t,e,n),N.registerTooltip(n,t);i.forEach(function(t){t.attachListener()}),t.xtag.cachedListeners=i,T(t)}}var N,S,L={top:"down",bottom:"up",left:"right",right:"left"},O="_previousSibling",M="_nextSibling",D="arrow-direction",I="_auto-orientation";o.prototype.attachListener=function(){this._attachedFn||(this._attachedFn=xtag.addEvent(this.elem,this.eventType,this.listenerFn))},o.prototype.removeListener=function(){this._attachedFn&&(xtag.removeEvent(this.elem,this.eventType,this._attachedFn),this._attachedFn=null)},a.prototype.destroy=function(){this._cachedListener.removeListener(),this._cachedListener=null,this._tooltips=null},a.prototype.containsTooltip=function(t){return-1!==this._tooltips.indexOf(t)},a.prototype.addTooltip=function(t){this.containsTooltip(t)||this._tooltips.push(t)},a.prototype.removeTooltip=function(t){this.containsTooltip(t)&&this._tooltips.splice(this._tooltips.indexOf(t),1)},Object.defineProperties(a.prototype,{numTooltips:{get:function(){return this._tooltips.length}}}),s.prototype.registerTooltip=function(t,e){if(t in this.eventStructDict){var n=this.eventStructDict[t];n.containsTooltip(e)||n.addTooltip(e)}else this.eventStructDict[t]=new a(t),this.eventStructDict[t].addTooltip(e)},s.prototype.unregisterTooltip=function(t,e){if(t in this.eventStructDict&&this.eventStructDict[t].containsTooltip(e)){var n=this.eventStructDict[t];n.removeTooltip(e),0===n.numTooltips&&(n.destroy(),delete this.eventStructDict[t])}},N=new s,S={custom:function(){return[]},hover:function(t,e){var n=[],r=null,i=200,a=function(){r&&window.clearTimeout(r),r=null},s=f(function(e){a();var n=this,r=e.relatedTarget||e.toElement;d(r,t)||A(t,n)}),u=f(function(e){a();var n=e.relatedTarget||e.toElement;d(n,t)||(r=window.setTimeout(function(){"hover"===t.triggerStyle&&T(t)},i))}),l=c(t,e,"enter",s),h=c(t,e,"leave",u);n.push(l),n.push(h);var g=f(function(e){a();var n=e.relatedTarget||e.toElement,r=t.xtag.lastTargetElem;t.hasAttribute("visible")||!r||d(n,r)||A(t,r)}),p=f(function(e){a();var n=e.relatedTarget||e.toElement,o=t.xtag.lastTargetElem;o&&!d(n,o)&&(r=window.setTimeout(function(){"hover"===t.triggerStyle&&T(t)},i))});return n.push(new o(t,"enter",g)),n.push(new o(t,"leave",p)),n}},xtag.register("x-tooltip",{lifecycle:{created:function(){var t=this;t.xtag.contentEl=document.createElement("div"),t.xtag.arrowEl=document.createElement("span"),xtag.addClass(t.xtag.contentEl,"tooltip-content"),xtag.addClass(t.xtag.arrowEl,"tooltip-arrow"),t.xtag.contentEl.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(t.xtag.contentEl),t.appendChild(t.xtag.arrowEl),t.xtag._orientation="auto",t.xtag._targetSelector=O,t.xtag._triggerStyle="click";var e=g(t,t.xtag._targetSelector);t.xtag.lastTargetElem=e.length>0?e[0]:null,t.xtag.cachedListeners=[],t.xtag._hideTransitionFlag=!1,t.xtag._skipOuterClick=!1},inserted:function(){k(this,this.xtag._targetSelector,this.xtag._triggerStyle)},removed:function(){C(this)}},events:{transitionend:function(t){var e=t.currentTarget;e.xtag._hideTransitionFlag&&!e.hasAttribute("visible")&&(e.xtag._hideTransitionFlag=!1,xtag.fireEvent(e,"tooltiphidden")),_(e)}},accessors:{orientation:{attribute:{},get:function(){return this.xtag._orientation},set:function(e){e=e.toLowerCase();var n=this.querySelector(".tooltip-arrow"),r=null;t(e)?(r=L[e],n.setAttribute(D,r),this.removeAttribute(I)):n.removeAttribute(D),this.xtag._orientation=e,this.refreshPosition()}},triggerStyle:{attribute:{name:"trigger-style"},get:function(){return this.xtag._triggerStyle},set:function(t){k(this,this.targetSelector,t),this.xtag._triggerStyle=t}},targetSelector:{attribute:{name:"target-selector"},get:function(){return this.xtag._targetSelector},set:function(t){g(this,t),k(this,t,this.triggerStyle),this.xtag._targetSelector=t}},ignoreOuterTrigger:{attribute:{"boolean":!0,name:"ignore-outer-trigger"}},ignoreTooltipPointerEvents:{attribute:{"boolean":!0,name:"ignore-tooltip-pointer-events"}},allowOverflow:{attribute:{"boolean":!0,name:"allow-overflow"},set:function(){this.refreshPosition()}},contentEl:{get:function(){return this.xtag.contentEl},set:function(t){var e=this.xtag.contentEl;xtag.addClass(t,"tooltip-content"),this.replaceChild(t,e),this.xtag.contentEl=t,this.refreshPosition()}},presetTriggerStyles:{get:function(){var t=[];for(var e in S)t.push(e);return t}},targetElems:{get:function(){return g(this,this.targetSelector)}}},methods:{refreshPosition:function(){this.xtag.lastTargetElem&&w(this,this.xtag.lastTargetElem,this.orientation)},show:function(){A(this,this.xtag.lastTargetElem)},hide:function(){T(this)},toggle:function(){this.hasAttribute("visible")?this.hide():this.show()}}})}();